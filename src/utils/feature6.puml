@startuml PostStream_F6_UML
!define RECTANGLE class

skinparam class {
    BackgroundColor LightGreen
    BorderColor DarkGreen
    FontColor Black
    FontSize 12
}

skinparam arrow {
    Color DarkBlue
    FontColor DarkBlue
}

' Compact 3x3 layout arrangement
' Row 1: Authentication and Core
class ParseUser {
    +objectId : String
    +createdAt : Date
    +updatedAt : Date
    --
    +username : String
    +email : String
    +password : String (hashed)
    --
    +requestPasswordReset() : void
    +resetPassword() : void
}

class Profile {
    +objectId : String
    +createdAt : Date
    +updatedAt : Date
    --
    +userId : String (ParseUser ref)
    +username : String
    +firstName : String
    +lastName : String
    +bio : String
    +email : String
    +avatar : String (image URL)
    +coverImage : String
    +followersCount : Number
    +followingCount : Number
    +postsCount : Number
}

class Post {
    +objectId : String
    +createdAt : Date
    +updatedAt : Date
    --
    +authorId : String (Profile ref)
    +authorUsername : String
    +body : String
    +tag : String
    +imageName : String
    +imageUrl : String
    +likesCount : Number
    +commentsCount : Number
    +retweetsCount : Number
    +originalPostId : String
}

' Row 2: Interactions
class Like {
    +objectId : String
    +createdAt : Date
    +updatedAt : Date
    --
    +postId : String (Post ref)
    +userId : String (ParseUser ref)
    +username : String
}

class Retweet {
    +objectId : String
    +createdAt : Date
    +updatedAt : Date
    --
    +postId : String (Post ref)
    +userId : String (ParseUser ref)
    +username : String
    +originalPostId : String
}

class Comment {
    +objectId : String
    +createdAt : Date
    +updatedAt : Date
    --
    +postId : String (Post ref)
    +userId : String (ParseUser ref)
    +username : String
}

' Row 3: Social Features
class Follow {
    +objectId : String
    +createdAt : Date
    +updatedAt : Date
    --
    +followerId : String (Profile ref)
    +followingId : String (Profile ref)
    +followerUsername : String
    +followingUsername : String
}

' Layout positioning for 3x3 grid
ParseUser -[hidden]right- Profile
Profile -[hidden]right- Post
Like -[hidden]right- Retweet
Retweet -[hidden]right- Comment
ParseUser -[hidden]down- Like
Profile -[hidden]down- Retweet
Post -[hidden]down- Comment
Like -[hidden]down- Follow

' Core Relationships
ParseUser ||--|| Profile : "has profile"
Profile ||--o{ Post : "creates"
Profile ||--o{ Comment : "writes"
Post ||--o{ Comment : "receives"

' Interaction Relationships
ParseUser ||--o{ Like : "likes posts"
Post ||--o{ Like : "receives likes"

ParseUser ||--o{ Retweet : "retweets posts"
Post ||--o{ Retweet : "gets retweeted"

' Retweet Post Relationships
Post ||--o{ Post : "original post"

' Follow Relationships  
Profile ||--o{ Follow : "follows others"
Profile ||--o{ Follow : "followed by"

@enduml
